# ã‚»ãƒƒã‚·ãƒ§ãƒ³YouTubeãƒªãƒ³ã‚¯æ©Ÿèƒ½ ä»•æ§˜æ›¸

**ä½œæˆæ—¥**: 2025å¹´6æœˆ25æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨­è¨ˆä¸­

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [æ©Ÿèƒ½è¦ä»¶](#æ©Ÿèƒ½è¦ä»¶)
3. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ )
4. [APIä»•æ§˜](#apiä»•æ§˜)
5. [UI/UXä»•æ§˜](#uiuxä»•æ§˜)
6. [æŠ€è¡“ä»•æ§˜](#æŠ€è¡“ä»•æ§˜)
7. [å®Ÿè£…è¨ˆç”»](#å®Ÿè£…è¨ˆç”»)

---

## æ¦‚è¦

### ç›®çš„
TRPGã‚»ãƒƒã‚·ãƒ§ãƒ³ã«é–¢é€£ã™ã‚‹YouTubeå‹•ç”»ï¼ˆãƒªãƒ—ãƒ¬ã‚¤å‹•ç”»ã€BGMã€å‚è€ƒè³‡æ–™ãªã©ï¼‰ã‚’è¤‡æ•°ãƒªãƒ³ã‚¯ã§ãã‚‹æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€‚å„ãƒªãƒ³ã‚¯ã«ã¯å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ã€æ™‚é–“ã€å‚™è€ƒã‚’è‡ªå‹•å–å¾—ãƒ»ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

### ä¸»è¦æ©Ÿèƒ½
- ğŸ¥ **è¤‡æ•°å‹•ç”»ãƒªãƒ³ã‚¯**: 1ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«è¤‡æ•°ã®YouTubeå‹•ç”»ã‚’ãƒªãƒ³ã‚¯
- ğŸ“ **è‡ªå‹•æƒ…å ±å–å¾—**: YouTube APIã‚’ä½¿ç”¨ã—ã¦å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ãƒ»æ™‚é–“ã‚’è‡ªå‹•å–å¾—
- ğŸ’¬ **å‚™è€ƒç®¡ç†**: å„å‹•ç”»ã«å¯¾ã™ã‚‹å‚™è€ƒãƒ»èª¬æ˜æ–‡ã‚’è¿½åŠ 
- ğŸ”¢ **è¡¨ç¤ºé †åº**: å‹•ç”»ã®è¡¨ç¤ºé †åºã‚’ç®¡ç†
- ğŸ”’ **æ¨©é™ç®¡ç†**: GMã¨å‚åŠ è€…ã®ã¿ãŒè¿½åŠ ãƒ»ç·¨é›†å¯èƒ½

---

## æ©Ÿèƒ½è¦ä»¶

### 1. å‹•ç”»ãƒªãƒ³ã‚¯ç®¡ç†

#### 1.1 å‹•ç”»è¿½åŠ 
- YouTube URLã®å…¥åŠ›
- å‹•ç”»æƒ…å ±ã®è‡ªå‹•å–å¾—
  - ã‚¿ã‚¤ãƒˆãƒ«
  - å†ç”Ÿæ™‚é–“ï¼ˆdurationï¼‰
  - ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒURL
  - ãƒãƒ£ãƒ³ãƒãƒ«å
- å‚™è€ƒæ¬„ã®å…¥åŠ›ï¼ˆä»»æ„ï¼‰
- è¡¨ç¤ºé †åºã®è¨­å®š

#### 1.2 å‹•ç”»ç·¨é›†
- å‚™è€ƒã®ç·¨é›†
- è¡¨ç¤ºé †åºã®å¤‰æ›´
- URLã®å¤‰æ›´ï¼ˆå†å–å¾—ï¼‰

#### 1.3 å‹•ç”»å‰Šé™¤
- å€‹åˆ¥å‰Šé™¤
- ä¸€æ‹¬å‰Šé™¤ï¼ˆGMæ¨©é™ï¼‰

### 2. æ¨©é™ç®¡ç†

#### 2.1 è¿½åŠ æ¨©é™
- GM: ç„¡åˆ¶é™ã«è¿½åŠ å¯èƒ½
- å‚åŠ è€…: è¿½åŠ å¯èƒ½ï¼ˆGMãŒè¨±å¯è¨­å®šå¯èƒ½ï¼‰

#### 2.2 ç·¨é›†æ¨©é™
- GM: ã™ã¹ã¦ã®å‹•ç”»ã‚’ç·¨é›†å¯èƒ½
- è¿½åŠ è€…: è‡ªåˆ†ãŒè¿½åŠ ã—ãŸå‹•ç”»ã®ã¿ç·¨é›†å¯èƒ½

#### 2.3 å‰Šé™¤æ¨©é™
- GM: ã™ã¹ã¦ã®å‹•ç”»ã‚’å‰Šé™¤å¯èƒ½
- è¿½åŠ è€…: è‡ªåˆ†ãŒè¿½åŠ ã—ãŸå‹•ç”»ã®ã¿å‰Šé™¤å¯èƒ½

### 3. è¡¨ç¤ºæ©Ÿèƒ½

#### 3.1 ä¸€è¦§è¡¨ç¤º
- ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤º
- ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤ºï¼ˆæœ€å¤§2è¡Œã§çœç•¥ï¼‰
- å†ç”Ÿæ™‚é–“è¡¨ç¤ºï¼ˆHH:MM:SSå½¢å¼ï¼‰
- å‚™è€ƒè¡¨ç¤ºï¼ˆæŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ï¼‰
- è¿½åŠ è€…æƒ…å ±

#### 3.2 ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åŸ‹ã‚è¾¼ã¿
- ãƒ¢ãƒ¼ãƒ€ãƒ«ã§ã®YouTubeãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¡¨ç¤º
- å¤–éƒ¨ãƒªãƒ³ã‚¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### 4. é›†è¨ˆæ©Ÿèƒ½

#### 4.1 åˆè¨ˆæ™‚é–“è¨ˆç®—
- ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã®å…¨å‹•ç”»ã®åˆè¨ˆå†ç”Ÿæ™‚é–“
- HH:MM:SSå½¢å¼ã§ã®è¡¨ç¤º
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆå‹•ç”»è¿½åŠ ãƒ»å‰Šé™¤æ™‚ï¼‰

#### 4.2 çµ±è¨ˆæƒ…å ±
- å‹•ç”»æœ¬æ•°
- åˆè¨ˆå†ç”Ÿæ™‚é–“
- å¹³å‡å†ç”Ÿæ™‚é–“
- ãƒãƒ£ãƒ³ãƒãƒ«åˆ¥é›†è¨ˆ

---

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### SessionYouTubeLinkãƒ¢ãƒ‡ãƒ«

```python
class SessionYouTubeLink(models.Model):
    """ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«é–¢é€£ã™ã‚‹YouTubeå‹•ç”»ãƒªãƒ³ã‚¯"""
    
    # ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    session = models.ForeignKey(
        'TRPGSession',
        on_delete=models.CASCADE,
        related_name='youtube_links'
    )
    added_by = models.ForeignKey(
        'accounts.CustomUser',
        on_delete=models.SET_NULL,
        null=True,
        related_name='added_youtube_links'
    )
    
    # YouTubeæƒ…å ±
    youtube_url = models.URLField(max_length=500)
    video_id = models.CharField(max_length=50, db_index=True)
    title = models.CharField(max_length=200)
    duration_seconds = models.PositiveIntegerField(default=0)
    channel_name = models.CharField(max_length=100, blank=True)
    thumbnail_url = models.URLField(max_length=500, blank=True)
    
    # ãƒ¡ã‚¿æƒ…å ±
    description = models.TextField(
        blank=True,
        verbose_name="å‚™è€ƒ",
        help_text="ã“ã®å‹•ç”»ã«ã¤ã„ã¦ã®èª¬æ˜ã‚„ãƒ¡ãƒ¢"
    )
    order = models.PositiveIntegerField(default=0)
    
    # ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    class Meta:
        ordering = ['order', 'created_at']
        unique_together = ['session', 'video_id']
        indexes = [
            models.Index(fields=['session', 'order']),
        ]
    
    def __str__(self):
        return f"{self.session.title} - {self.title}"
    
    @property
    def duration_display(self):
        """å†ç”Ÿæ™‚é–“ã‚’ HH:MM:SS å½¢å¼ã§è¡¨ç¤º"""
        hours = self.duration_seconds // 3600
        minutes = (self.duration_seconds % 3600) // 60
        seconds = self.duration_seconds % 60
        
        if hours > 0:
            return f"{hours}:{minutes:02d}:{seconds:02d}"
        else:
            return f"{minutes}:{seconds:02d}"
    
    def save(self, *args, **kwargs):
        # video_idã‚’æŠ½å‡º
        if self.youtube_url and not self.video_id:
            self.video_id = self.extract_video_id(self.youtube_url)
        
        # æ–°è¦ä½œæˆæ™‚ã€orderã‚’è‡ªå‹•è¨­å®š
        if not self.pk and self.order == 0:
            max_order = SessionYouTubeLink.objects.filter(
                session=self.session
            ).aggregate(
                max_order=models.Max('order')
            )['max_order']
            self.order = (max_order or 0) + 1
        
        super().save(*args, **kwargs)
    
    @staticmethod
    def extract_video_id(url):
        """YouTube URLã‹ã‚‰å‹•ç”»IDã‚’æŠ½å‡º"""
        import re
        patterns = [
            r'(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?]+)',
            r'(?:youtube\.com\/embed\/)([^&\n?]+)',
        ]
        for pattern in patterns:
            match = re.search(pattern, url)
            if match:
                return match.group(1)
        return None
    
    @classmethod
    def get_session_total_duration(cls, session):
        """ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»åˆè¨ˆæ™‚é–“ã‚’å–å¾—"""
        from django.db.models import Sum
        result = cls.objects.filter(session=session).aggregate(
            total=Sum('duration_seconds')
        )
        return result['total'] or 0
    
    @classmethod
    def get_session_statistics(cls, session):
        """ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»çµ±è¨ˆæƒ…å ±ã‚’å–å¾—"""
        from django.db.models import Sum, Avg, Count
        videos = cls.objects.filter(session=session)
        
        stats = videos.aggregate(
            count=Count('id'),
            total_duration=Sum('duration_seconds'),
            avg_duration=Avg('duration_seconds')
        )
        
        # ãƒãƒ£ãƒ³ãƒãƒ«åˆ¥é›†è¨ˆ
        channel_stats = videos.values('channel_name').annotate(
            video_count=Count('id'),
            total_duration=Sum('duration_seconds')
        ).order_by('-video_count')
        
        return {
            'video_count': stats['count'] or 0,
            'total_duration_seconds': stats['total_duration'] or 0,
            'total_duration_display': cls.format_duration(stats['total_duration'] or 0),
            'average_duration_seconds': int(stats['avg_duration'] or 0),
            'average_duration_display': cls.format_duration(int(stats['avg_duration'] or 0)),
            'channel_breakdown': list(channel_stats)
        }
    
    @staticmethod
    def format_duration(seconds):
        """ç§’æ•°ã‚’ HH:MM:SS å½¢å¼ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
        hours = seconds // 3600
        minutes = (seconds % 3600) // 60
        secs = seconds % 60
        
        if hours > 0:
            return f"{hours}:{minutes:02d}:{secs:02d}"
        else:
            return f"{minutes}:{secs:02d}"
```

---

## APIä»•æ§˜

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### 1. YouTubeå‹•ç”»ãƒªãƒ³ã‚¯ç®¡ç†
```
GET    /api/schedules/sessions/{session_id}/youtube-links/
POST   /api/schedules/sessions/{session_id}/youtube-links/
GET    /api/schedules/youtube-links/{id}/
PUT    /api/schedules/youtube-links/{id}/
DELETE /api/schedules/youtube-links/{id}/
```

#### 2. ç‰¹æ®Šã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```
POST   /api/schedules/youtube-links/fetch-info/
       - YouTube URLã‹ã‚‰å‹•ç”»æƒ…å ±ã‚’å–å¾—
       
POST   /api/schedules/youtube-links/{id}/reorder/
       - è¡¨ç¤ºé †åºã®å¤‰æ›´
       
GET    /api/schedules/sessions/{session_id}/youtube-links/statistics/
       - ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹•ç”»çµ±è¨ˆæƒ…å ±ã‚’å–å¾—
```

### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

#### å‹•ç”»è¿½åŠ 
```json
// Request
POST /api/schedules/sessions/123/youtube-links/
{
    "youtube_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
    "description": "ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒ³"
}

// Response
{
    "id": 1,
    "youtube_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
    "video_id": "dQw4w9WgXcQ",
    "title": "Rick Astley - Never Gonna Give You Up",
    "duration_seconds": 213,
    "duration_display": "3:33",
    "channel_name": "Rick Astley",
    "thumbnail_url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",
    "description": "ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒ³",
    "order": 1,
    "added_by": {
        "id": 1,
        "username": "gm_user",
        "nickname": "GMå¤ªéƒ"
    },
    "created_at": "2025-06-25T10:00:00Z"
}
```

#### å‹•ç”»æƒ…å ±å–å¾—
```json
// Request
POST /api/schedules/youtube-links/fetch-info/
{
    "youtube_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
}

// Response
{
    "video_id": "dQw4w9WgXcQ",
    "title": "Rick Astley - Never Gonna Give You Up",
    "duration_seconds": 213,
    "channel_name": "Rick Astley",
    "thumbnail_url": "https://i.ytimg.com/vi/dQw4w9WgXcQ/maxresdefault.jpg"
}
```

#### çµ±è¨ˆæƒ…å ±å–å¾—
```json
// Request
GET /api/schedules/sessions/123/youtube-links/statistics/

// Response
{
    "video_count": 5,
    "total_duration_seconds": 3600,
    "total_duration_display": "1:00:00",
    "average_duration_seconds": 720,
    "average_duration_display": "12:00",
    "channel_breakdown": [
        {
            "channel_name": "Channel A",
            "video_count": 3,
            "total_duration": 2100
        },
        {
            "channel_name": "Channel B",
            "video_count": 2,
            "total_duration": 1500
        }
    ]
}
```

---

## UI/UXä»•æ§˜

### 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³è©³ç´°ç”»é¢ã§ã®è¡¨ç¤º

#### 1.1 YouTubeå‹•ç”»ã‚»ã‚¯ã‚·ãƒ§ãƒ³
```html
<div class="youtube-links-section">
    <h3>é–¢é€£å‹•ç”» <span class="badge">3</span></h3>
    <button class="btn btn-primary btn-sm" onclick="addYouTubeLink()">
        <i class="fas fa-plus"></i> å‹•ç”»ã‚’è¿½åŠ 
    </button>
    
    <div class="youtube-links-grid">
        <!-- å‹•ç”»ã‚«ãƒ¼ãƒ‰ -->
        <div class="youtube-link-card">
            <div class="thumbnail-wrapper">
                <img src="thumbnail.jpg" alt="å‹•ç”»ã‚µãƒ ãƒã‚¤ãƒ«">
                <span class="duration-badge">3:33</span>
            </div>
            <div class="video-info">
                <h4 class="video-title">å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«</h4>
                <p class="channel-name">ãƒãƒ£ãƒ³ãƒãƒ«å</p>
                <p class="description">å‚™è€ƒãƒ†ã‚­ã‚¹ãƒˆ...</p>
                <div class="meta-info">
                    <span class="added-by">è¿½åŠ : GMå¤ªéƒ</span>
                    <span class="added-date">2025/06/25</span>
                </div>
            </div>
            <div class="actions">
                <button class="btn-icon" title="å†ç”Ÿ">
                    <i class="fas fa-play"></i>
                </button>
                <button class="btn-icon" title="ç·¨é›†">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn-icon" title="å‰Šé™¤">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>
    </div>
</div>
```

#### 1.2 è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ«
```html
<div class="modal" id="addYouTubeLinkModal">
    <div class="modal-content">
        <h3>YouTubeå‹•ç”»ã‚’è¿½åŠ </h3>
        <form id="youtubeLinksForm">
            <div class="form-group">
                <label>YouTube URL <span class="required">*</span></label>
                <input type="url" id="youtube_url" required>
                <button type="button" onclick="fetchVideoInfo()">
                    å‹•ç”»æƒ…å ±ã‚’å–å¾—
                </button>
            </div>
            
            <!-- å‹•ç”»æƒ…å ±ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
            <div id="videoPreview" style="display:none;">
                <img id="previewThumbnail" src="">
                <div>
                    <p id="previewTitle"></p>
                    <p id="previewDuration"></p>
                </div>
            </div>
            
            <div class="form-group">
                <label>å‚™è€ƒ</label>
                <textarea id="description" rows="3"></textarea>
            </div>
            
            <button type="submit">è¿½åŠ </button>
        </form>
    </div>
</div>
```

### 2. ãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜

#### 2.1 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆPC: 3åˆ—ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 2åˆ—ã€ãƒ¢ãƒã‚¤ãƒ«: 1åˆ—ï¼‰
- ã‚«ãƒ¼ãƒ‰å‹ãƒ‡ã‚¶ã‚¤ãƒ³
- ãƒ›ãƒãƒ¼åŠ¹æœ

#### 2.2 ã‚«ãƒ©ãƒ¼
- å†ç”Ÿãƒœã‚¿ãƒ³: YouTube Red (#FF0000)
- æ™‚é–“ãƒãƒƒã‚¸: åŠé€æ˜é»’èƒŒæ™¯
- ã‚«ãƒ¼ãƒ‰ãƒœãƒ¼ãƒ€ãƒ¼: ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼

---

## æŠ€è¡“ä»•æ§˜

### 1. YouTube APIé€£æº

#### 1.1 APIè¨­å®š
```python
# settings.py
YOUTUBE_API_KEY = env('YOUTUBE_API_KEY')
YOUTUBE_API_BASE_URL = 'https://www.googleapis.com/youtube/v3'
```

#### 1.2 å‹•ç”»æƒ…å ±å–å¾—ã‚µãƒ¼ãƒ“ã‚¹
```python
import requests
from django.conf import settings

class YouTubeService:
    @staticmethod
    def fetch_video_info(video_id):
        """YouTube APIã‚’ä½¿ç”¨ã—ã¦å‹•ç”»æƒ…å ±ã‚’å–å¾—"""
        url = f"{settings.YOUTUBE_API_BASE_URL}/videos"
        params = {
            'key': settings.YOUTUBE_API_KEY,
            'part': 'snippet,contentDetails',
            'id': video_id
        }
        
        response = requests.get(url, params=params)
        if response.status_code == 200:
            data = response.json()
            if data['items']:
                item = data['items'][0]
                return {
                    'title': item['snippet']['title'],
                    'channel_name': item['snippet']['channelTitle'],
                    'thumbnail_url': item['snippet']['thumbnails']['maxres']['url'],
                    'duration': YouTubeService.parse_duration(
                        item['contentDetails']['duration']
                    )
                }
        return None
    
    @staticmethod
    def parse_duration(duration_str):
        """ISO 8601å½¢å¼ã®æœŸé–“ã‚’ç§’æ•°ã«å¤‰æ›"""
        # PT3M33S -> 213ç§’
        import re
        match = re.match(r'PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?', duration_str)
        if match:
            hours = int(match.group(1) or 0)
            minutes = int(match.group(2) or 0)
            seconds = int(match.group(3) or 0)
            return hours * 3600 + minutes * 60 + seconds
        return 0
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

#### 2.1 YouTube URLæ¤œè¨¼
```javascript
function validateYouTubeUrl(url) {
    const regex = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+$/;
    return regex.test(url);
}

function extractVideoId(url) {
    const regex = /(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?]+)/;
    const match = url.match(regex);
    return match ? match[1] : null;
}
```

#### 2.2 å‹•ç”»æƒ…å ±å–å¾—
```javascript
async function fetchVideoInfo() {
    const url = document.getElementById('youtube_url').value;
    if (!validateYouTubeUrl(url)) {
        alert('æœ‰åŠ¹ãªYouTube URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
    }
    
    try {
        const response = await fetch('/api/schedules/youtube-links/fetch-info/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': getCsrfToken()
            },
            body: JSON.stringify({ youtube_url: url })
        });
        
        if (response.ok) {
            const data = await response.json();
            displayVideoPreview(data);
        }
    } catch (error) {
        console.error('å‹•ç”»æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
    }
}
```

---

## å®Ÿè£…è¨ˆç”»

### Phase 1: åŸºæœ¬æ©Ÿèƒ½ï¼ˆå¿…é ˆï¼‰
1. âœ… ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ä½œæˆ
2. âœ… ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
3. âœ… APIå®Ÿè£…ï¼ˆCRUDï¼‰
4. âœ… æ¨©é™ãƒã‚§ãƒƒã‚¯å®Ÿè£…
5. âœ… ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
6. âœ… é›†è¨ˆæ©Ÿèƒ½å®Ÿè£…
7. âœ… çµ±è¨ˆAPIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…

### Phase 2: YouTube APIé€£æº
1. â¬œ YouTube APIè¨­å®š
2. â¬œ å‹•ç”»æƒ…å ±å–å¾—ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…
3. â¬œ APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
4. â¬œ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### Phase 3: UIå®Ÿè£…
1. â¬œ ä¸€è¦§è¡¨ç¤ºUI
2. â¬œ è¿½åŠ /ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
3. â¬œ å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
4. â¬œ ä¸¦ã³æ›¿ãˆæ©Ÿèƒ½

### Phase 4: æ‹¡å¼µæ©Ÿèƒ½
1. â¬œ ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆå¯¾å¿œ
2. â¬œ åŸ‹ã‚è¾¼ã¿ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
3. â¬œ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½
4. â¬œ ä¸€æ‹¬ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

1. **API ã‚­ãƒ¼ä¿è­·**: YouTube API ã‚­ãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†
2. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: APIå‘¼ã³å‡ºã—ã®åˆ¶é™å®Ÿè£…
3. **URLæ¤œè¨¼**: æ‚ªæ„ã®ã‚ã‚‹URLã®æ’é™¤
4. **XSSå¯¾ç­–**: å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ç­‰ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—

---

## ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

1. **Twitchå¯¾å¿œ**: Twitchã‚¯ãƒªãƒƒãƒ—ã®è¿½åŠ 
2. **ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»å¯¾å¿œ**: ãƒ‹ã‚³ãƒ‹ã‚³å‹•ç”»ã®è¿½åŠ 
3. **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—**: ç‰¹å®šã‚·ãƒ¼ãƒ³ã¸ã®ãƒªãƒ³ã‚¯
4. **è‡ªå‹•ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆ**: ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ç”»ã®è‡ªå‹•å†ç”Ÿ

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´6æœˆ25æ—¥